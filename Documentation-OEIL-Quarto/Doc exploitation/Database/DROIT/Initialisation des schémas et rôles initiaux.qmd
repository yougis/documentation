# Création de base de données Postgis


```sql
CREATE DATABASE data_externe WITH Template template_postgis OWNER oeil_admin;
CREATE DATABASE oeil_reference WITH Template template_postgis OWNER oeil_admin;
CREATE DATABASE oeil_traitement WITH Template template_postgis OWNER oeil_admin;
ALTER TABLE public.spatial_ref_sys OWNER TO oeil_admin;
GRANT SELECT, INSERT ON TABLE public.spatial_ref_sys TO public;

```

# Création des utilisateurs, des roles

```sql
create ROLE OEIL_RO WITH 
	NOSUPERUSER
	NOCREATEDB
	NOCREATEROLE;

create ROLE OEIL_RW WITH 
	NOSUPERUSER
	NOCREATEDB
	NOCREATEROLE
	INHERIT
	LOGIN
	NOREPLICATION
	NOBYPASSRLS
	CONNECTION LIMIT UNLIMITED;

create ROLE oeil_admin WITH 
	NOSUPERUSER
	NOCREATEDB
	NOCREATEROLE
	INHERIT
	LOGIN
	NOREPLICATION
	NOBYPASSRLS
	CONNECTION LIMIT UNLIMITED;
	
grant OEIL_RW to oeil_admin
```

## Des bases

```sql
create database OEIL_TRAITEMENT with template postgres owner oeil_admin;

create database OEIL_REFERENCE with template postgres owner oeil_admin;

create database DATA_EXTERNE with template postgres owner oeil_admin;

```
